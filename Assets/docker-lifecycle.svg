<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="720" height="260" viewBox="0 0 720 260">
  <defs>
    <!-- Gradient per lo sfondo -->
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#0b1224"/>
      <stop offset="100%" stop-color="#101a36"/>
    </linearGradient>

    <!-- Gradient per i nodi normali -->
    <linearGradient id="nodeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#38bdf8"/>
      <stop offset="100%" stop-color="#60a5fa"/>
    </linearGradient>

    <!-- Gradient per il nodo Removed -->
    <linearGradient id="removedGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#f97316"/>
      <stop offset="100%" stop-color="#facc15"/>
    </linearGradient>

    <!-- Ombra per i nodi -->
    <filter id="nodeShadow" x="-0.15" y="-0.15" width="1.3" height="1.4" color-interpolation-filters="sRGB">
      <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#0f172a" flood-opacity="0.35"/>
    </filter>

    <!-- Marker per frecce più smooth e eleganti -->
    <marker id="arrow" markerWidth="14" markerHeight="14" refX="13" refY="7" orient="auto">
      <path d="M2,2 L13,7 L2,12 Q0,7 2,2" fill="#38bdf8" opacity="0.85"/>
    </marker>

    <!-- Marker per la freccia lunga di ritorno -->
    <marker id="arrowReturn" markerWidth="14" markerHeight="14" refX="13" refY="7" orient="auto">
      <path d="M2,2 L13,7 L2,12 Q0,7 2,2" fill="#60a5fa" opacity="0.75"/>
    </marker>
  </defs>

  <!-- Sfondo con gradiente -->
  <rect width="720" height="260" rx="24" fill="url(#bgGradient)"/>

  <g font-family="Inter, 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif" fill="#e2e8f0">
    <!-- Titolo -->
    <text x="360" y="44" font-size="26" text-anchor="middle" font-weight="600">Docker Container Lifecycle</text>

    <!-- Nodi del ciclo di vita -->
    <g font-size="14" text-anchor="middle">

      <!-- Created -->
      <g transform="translate(60 80)" filter="url(#nodeShadow)">
        <rect width="140" height="76" rx="16" fill="#1d4ed8" stroke="url(#nodeGradient)" stroke-width="2"/>
        <text x="70" y="30" font-size="18" font-weight="600">Created</text>
        <text x="70" y="54" fill="#cbd5f5" font-size="13">`docker create`</text>
      </g>

      <!-- Running -->
      <g transform="translate(230 80)" filter="url(#nodeShadow)">
        <rect width="140" height="76" rx="16" fill="#1e3a8a" stroke="url(#nodeGradient)" stroke-width="2"/>
        <text x="70" y="26" font-size="18" font-weight="600">Running</text>
        <text x="70" y="46" fill="#cbd5f5" font-size="13">`docker start`</text>
        <text x="70" y="62" fill="#cbd5f5" font-size="13">`docker run`</text>
      </g>

      <!-- Stopped -->
      <g transform="translate(400 80)" filter="url(#nodeShadow)">
        <rect width="140" height="76" rx="16" fill="#1f2937" stroke="url(#nodeGradient)" stroke-width="2"/>
        <text x="70" y="24" font-size="18" font-weight="600">Stopped</text>
        <text x="70" y="44" font-size="13" fill="#cbd5f5">`docker stop`</text>
        <text x="70" y="60" fill="#fbbf24" font-size="13">`docker kill`</text>
        <text x="70" y="74" fill="#94a3b8" font-size="11" font-style="italic">(aka Exited)</text>
      </g>

      <!-- Removed -->
      <g transform="translate(570 80)" filter="url(#nodeShadow)">
        <rect width="140" height="76" rx="16" fill="#1e1b4b" stroke="url(#removedGradient)" stroke-width="2.2"/>
        <text x="70" y="30" font-size="18" font-weight="600" fill="#fde68a">Removed</text>
        <text x="70" y="54" fill="#fcd34d" font-size="13">`docker rm`</text>
      </g>
    </g>

    <!-- Frecce con path più smooth -->
    <g fill="none" stroke-width="2.5" opacity="0.9">
      <!-- Created → Running -->
      <path d="M200 118 H 230" stroke="#38bdf8" marker-end="url(#arrow)"/>

      <!-- Running → Stopped -->
      <path d="M370 118 H 400" stroke="#38bdf8" marker-end="url(#arrow)"/>

      <!-- Stopped → Removed -->
      <path d="M540 118 H 570" stroke="#38bdf8" marker-end="url(#arrow)"/>

      <!-- Stopped → Created (freccia curva di ritorno) -->
      <path d="M 470 156
            Q 470 195, 440 195
            L 160 195
            Q 130 195, 130 160
            L 130 156"
            stroke="#60a5fa"
            stroke-width="2"
            marker-end="url(#arrowReturn)"
            opacity="0.7"
            stroke-dasharray="5,3"/>
      </g>

      <!-- Testo esplicativo in basso, diviso su due righe -->
      <text font-size="12" text-anchor="middle" fill="#94a3b8">
        <tspan x="360" y="220">Da Stopped puoi riutilizzare il container (torna a Created → Running)</tspan>
        <tspan x="360" y="238">oppure rimuoverlo definitivamente con `docker rm`</tspan>
      </text>

      <!-- Legenda piccola per la freccia di ritorno -->
      <g transform="translate(290, 202)">
        <line x1="0" y1="0" x2="20" y2="0" stroke="#60a5fa" stroke-width="2" stroke-dasharray="5,3" opacity="0.7"/>
        <text x="25" y="4" font-size="11" fill="#64748b">restart workflow</text>
      </g>
    </g>
  </svg>
