<svg width="1000" height="600" viewBox="0 0 1000 600" fill="none" xmlns="http://www.w3.org/2000/svg" id="diagram-svg">
            <!-- DEFINITIONS -->
            <defs>
                <!-- Background Gradient -->
                <linearGradient id="bgGradient" x1="500" y1="0" x2="500" y2="600" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#0b1224"/>
                    <stop offset="1" stop-color="#101a36"/>
                </linearGradient>

                <!-- Box Border Gradient (Cyan) -->
                <linearGradient id="borderGradient" x1="0" y1="0" x2="100%" y2="100%">
                    <stop stop-color="#38bdf8"/>
                    <stop offset="1" stop-color="#60a5fa"/>
                </linearGradient>

                <!-- Inference Border Gradient (Gold) -->
                <linearGradient id="goldGradient" x1="0" y1="0" x2="100%" y2="100%">
                    <stop stop-color="#facc15"/>
                    <stop offset="1" stop-color="#fb923c"/>
                </linearGradient>

                <!-- Drop Shadow -->
                <filter id="boxShadow" x="-10%" y="-10%" width="120%" height="120%">
                    <feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="#000000" flood-opacity="0.5"/>
                </filter>

                <!-- Marker Arrow Cyan -->
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#38bdf8"/>
                </marker>
                
                <!-- Marker Arrow Gold (for inference input) -->
                <marker id="arrowhead-gold" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#facc15"/>
                </marker>

                <!-- Marker Arrow Reverse (Cyan) -->
                <marker id="arrowhead-rev" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#38bdf8"/>
                </marker>
            </defs>

            <!-- BACKGROUND -->
            <rect width="1000" height="600" fill="url(#bgGradient)" rx="16"/>
            
            <!-- SUBTLE GRID -->
            <path d="M90 0 V600 M310 0 V600 M390 0 V600 M610 0 V600 M690 0 V600 M910 0 V600" stroke="#1e293b" stroke-width="1" opacity="0.2" stroke-dasharray="4 4"/>
            <path d="M0 170 H1000 M0 400 H1000" stroke="#1e293b" stroke-width="1" opacity="0.2" stroke-dasharray="4 4"/>

            <!-- TITLE -->
            <text x="50" y="50" fill="#f8fafc" font-family="Inter, sans-serif" font-weight="700" font-size="24">Geospatial AI Pipeline</text>
            <text x="50" y="75" fill="#94a3b8" font-family="Inter, sans-serif" font-size="14">End-to-end processing: Ingestion to Visualization</text>

            <!-- CONNECTIONS (PATHS) -->
            <!-- Using SOLID colors to ensure visibility -->

            <!-- 1 to 2 (Right) -->
            <path d="M310 170 L380 170" stroke="#38bdf8" stroke-width="3" marker-end="url(#arrowhead)" opacity="1"/>
            
            <!-- 2 to 3 (Right) -->
            <path d="M610 170 L680 170" stroke="#38bdf8" stroke-width="3" marker-end="url(#arrowhead)" opacity="1"/>
            
            <!-- 3 to 4 (Down) -->
            <!-- The critical path to inference -->
            <path d="M800 220 L800 340" stroke="#facc15" stroke-width="3" marker-end="url(#arrowhead-gold)" opacity="1"/>
            
            <!-- 4 to 5 (Left) -->
            <path d="M690 400 L620 400" stroke="#38bdf8" stroke-width="3" marker-end="url(#arrowhead-rev)" opacity="1"/>
            
            <!-- 5 to 6 (Left) -->
            <path d="M390 400 L320 400" stroke="#38bdf8" stroke-width="3" marker-end="url(#arrowhead-rev)" opacity="1"/>


            <!-- NODES (BOXES) -->

            <!-- BOX 1: DATA LOADING (Top Left) -->
            <g transform="translate(90, 120)" filter="url(#boxShadow)">
                <rect width="220" height="100" rx="12" fill="#1e293b" stroke="url(#borderGradient)" stroke-width="1.5"/>
                <rect x="0" y="0" width="220" height="34" rx="12" fill="#0f172a" opacity="0.5"/>
                <circle cx="20" cy="17" r="4" fill="#38bdf8"/>
                <text x="35" y="22" fill="#f8fafc" font-family="Inter, sans-serif" font-weight="600" font-size="14">1. Data Loading</text>
                <text x="20" y="55" fill="#cbd5f5" font-family="Inter, sans-serif" font-size="12">Download &amp; Open</text>
                <text x="20" y="80" fill="#94a3b8" font-family="monospace" font-size="10">pystac-client, rasterio</text>
            </g>

            <!-- BOX 2: PRE-PROCESS (Top Center) -->
            <g transform="translate(390, 120)" filter="url(#boxShadow)">
                <rect width="220" height="100" rx="12" fill="#1e293b" stroke="url(#borderGradient)" stroke-width="1.5"/>
                <rect x="0" y="0" width="220" height="34" rx="12" fill="#0f172a" opacity="0.5"/>
                <circle cx="20" cy="17" r="4" fill="#38bdf8"/>
                <text x="35" y="22" fill="#f8fafc" font-family="Inter, sans-serif" font-weight="600" font-size="14">2. Pre-process</text>
                <text x="20" y="55" fill="#cbd5f5" font-family="Inter, sans-serif" font-size="12">CRS/Res Alignment</text>
                <text x="20" y="80" fill="#94a3b8" font-family="monospace" font-size="10">rasterio.warp.reproject</text>
            </g>

            <!-- BOX 3: STACK & FILTER (Top Right) -->
            <g transform="translate(690, 120)" filter="url(#boxShadow)">
                <rect width="220" height="100" rx="12" fill="#1e293b" stroke="url(#borderGradient)" stroke-width="1.5"/>
                <rect x="0" y="0" width="220" height="34" rx="12" fill="#0f172a" opacity="0.5"/>
                <circle cx="20" cy="17" r="4" fill="#38bdf8"/>
                <text x="35" y="22" fill="#f8fafc" font-family="Inter, sans-serif" font-weight="600" font-size="14">3. Stack &amp; Filter</text>
                <text x="20" y="55" fill="#cbd5f5" font-family="Inter, sans-serif" font-size="12">Norm Bands, Speckle</text>
                <text x="20" y="80" fill="#94a3b8" font-family="monospace" font-size="10">numpy, scipy.ndimage</text>
            </g>

            <!-- BOX 4: INFERENZA AI (Bottom Right) - Directly below Box 3 -->
            <g transform="translate(690, 350)" filter="url(#boxShadow)">
                <!-- Special Gold Border for AI Core -->
                <rect width="220" height="100" rx="12" fill="#1f2937" stroke="url(#goldGradient)" stroke-width="2" stroke-dasharray="6 3"/>
                <rect x="0" y="0" width="220" height="34" rx="12" fill="#0f172a" opacity="0.6"/>
                <circle cx="20" cy="17" r="4" fill="#facc15"/> <!-- Gold Dot -->
                <text x="35" y="22" fill="#f8fafc" font-family="Inter, sans-serif" font-weight="600" font-size="14">4. Inferenza AI</text>
                <text x="20" y="55" fill="#cbd5f5" font-family="Inter, sans-serif" font-size="12">Segmentation Model</text>
                <text x="20" y="80" fill="#94a3b8" font-family="monospace" font-size="10">pytorch / onnx</text>
            </g>

            <!-- BOX 5: POST-PROCESS (Bottom Center) - Directly below Box 2 -->
            <g transform="translate(390, 350)" filter="url(#boxShadow)">
                <rect width="220" height="100" rx="12" fill="#1e293b" stroke="url(#borderGradient)" stroke-width="1.5"/>
                <rect x="0" y="0" width="220" height="34" rx="12" fill="#0f172a" opacity="0.5"/>
                <circle cx="20" cy="17" r="4" fill="#38bdf8"/>
                <text x="35" y="22" fill="#f8fafc" font-family="Inter, sans-serif" font-weight="600" font-size="14">5. Post-process</text>
                <text x="20" y="55" fill="#cbd5f5" font-family="Inter, sans-serif" font-size="12">Vectorize Mask</text>
                <text x="20" y="80" fill="#94a3b8" font-family="monospace" font-size="10">rasterio.features, gpd</text>
            </g>

            <!-- BOX 6: VISUALIZZA (Bottom Left) - Directly below Box 1 -->
            <g transform="translate(90, 350)" filter="url(#boxShadow)">
                <rect width="220" height="100" rx="12" fill="#1e293b" stroke="url(#borderGradient)" stroke-width="1.5"/>
                <rect x="0" y="0" width="220" height="34" rx="12" fill="#0f172a" opacity="0.5"/>
                <circle cx="20" cy="17" r="4" fill="#38bdf8"/>
                <text x="35" y="22" fill="#f8fafc" font-family="Inter, sans-serif" font-weight="600" font-size="14">6. Visualizza</text>
                <text x="20" y="55" fill="#cbd5f5" font-family="Inter, sans-serif" font-size="12">Map Overlay</text>
                <text x="20" y="80" fill="#94a3b8" font-family="monospace" font-size="10">folium.Map</text>
            </g>

            <!-- TECH DECORATIONS (Corners) -->
            <path d="M40 540 L40 560 L60 560" stroke="#38bdf8" stroke-width="2" fill="none" opacity="0.3"/>
            <path d="M960 540 L960 560 L940 560" stroke="#38bdf8" stroke-width="2" fill="none" opacity="0.3"/>
            <path d="M40 60 L40 40 L60 40" stroke="#38bdf8" stroke-width="2" fill="none" opacity="0.3"/>
            <path d="M960 60 L960 40 L940 40" stroke="#38bdf8" stroke-width="2" fill="none" opacity="0.3"/>

        </svg>